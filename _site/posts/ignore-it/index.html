<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="/bundle.css" />
    <meta charset="UTF-8" />
    <meta name="author" content="name" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="description here" />
    <meta name="keywords" content="keywords,here" />
    <title>Ignore It, then Deploy It</title>
  </head>
  <header><h1>Jim Withington's Blog</h1></header>
  <body>
    
<h2>Ignore It, then Deploy It</h2>
<main id="main-content"><h1>Ignore It</h1>
<p>Today I realized I wanted to set this thing up for real continous deployment -- I no longer wanted to have to drag and drop to deploy the thing. I like using git even for personal projects, so it's a no-brainer to make it so that pushing to remote causes a deploy.</p>
<p>I set it up on <a href="https://www.netlify.com/">Netlify</a> kinda by default, simply because it was in the <a href="https://www.11ty.dev/docs/deployment/">eleventy tutorial's deployment section</a>, and I gotta say: it's nice to be back! I used to play around with Netlify a lot in the past, but haven't had a need to for a long time (as I was using <a href="https://surge.sh/">surge.sh</a>, <a href="https://pages.github.com/">Github Pages</a>, or <a href="https://blot.im/">Blot</a>, depending on what I was working on).</p>
<p>And those are all good tools for what they are! But with <a href="https://www.11ty.dev/">Eleventy</a>, I'm trying to do it The Eleventy Way‚Ñ¢Ô∏è, and so using the first thing they mentioned in the tutorial felt right. üòÄ</p>
<h2>A tiny gitignore explainer</h2>
<p>I also knew that I never want to throw a git repo on GitHub without creating a <code>.gitignore</code> file. For the uninitiated, that's a file that tells git, &quot;hey, don't ever include these files in the repo.&quot; Briefly speaking, this prevents you from checking in:</p>
<ul>
<li>files that don't need to be in your repo and that take up a bunch of space, like your <code>nodemodules</code> folder</li>
<li>stuff that operating systems or apps use that have nothing to do with your project, like VS Code settings or all the junk that macOS dumps into folders</li>
<li><strong>most importantly</strong>: app secrets, environmental variables, and anything else that could result in something terrible like your API getting published for anyone to grab and use</li>
</ul>
<p>That last one is a huge gotcha, and a bit of the reason why I use deployment services in the first place: people have built deploy tools that mean I'm not working too close to the metal. I like safeguards that prevent me from getting a giant web hosting bill, don't you?</p>
<h2>Let's build that file</h2>
<p>As a front end dev I'm absolutely well-versed in <em>using</em> a git ignore file, but I'm rarely the originator of it. At my last job, we inherited a lot of ignore files since our app began with us forking <a href="https://github.com/backstage/backstage">Backstage</a>.</p>
<p>So this time, it 's my turn!</p>
<p>The Eleventy docs weren't super helpful, and neither was the actual Eleventy <code>.gitignore</code> file, since it...had a lot of stuff that felt very specific to the project, not to what a user like me would need.</p>
<p>After some Googling, I ended up finding a couple of sources for my main tools: VS Code, on a Mac. I also found someone's basic boilerplate version and deleted ths stuff I figured I wouldn't use. I kept the sources in the file, both for me, and so I can credit them. You can see <a href="https://github.com/jwithington/jwithyleventy/blob/main/.gitignore">the file in the now-published GitHub repo</a>. Hooray for tools built by folks!</p>
<p>A non-zero amount of what's in that file represents things I haven't built yet, like environmental variables and such. To me, that makes it a good safeguard -- it's already there when I do need it, and it prevents my &quot;go go go&quot; hyperfocus brain from missing the important stuff later.</p>
<h2>Time to deploy</h2>
<p>After I'm sure I have that all ready to go, it's time to deploy. I used the <a href="https://docs.github.com/en/migrations/importing-source-code/using-the-command-line-to-import-source-code/adding-locally-hosted-code-to-github#importing-a-git-repository-with-the-command-line">GitHub CLI to push the local folder</a> to a GitHub repo. From there, I followed the defaults in Netlify, and I did run into one hiccup: because I'm using <a href="https://www.11ty.dev/blog/canary-eleventy-v3/">eleventy 3.0</a>, the default <code>eleventy</code> build command failed.</p>
<p>I changed it to <code>npx @11ty/eleventy@canary</code>, which is the local build command,
and now it's all up and running! ü•≥</p>
</main>

  </body>
</html>
